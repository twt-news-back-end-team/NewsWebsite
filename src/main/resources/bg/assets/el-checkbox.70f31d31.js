import{i as be,b as $,aF as H,aG as Z,av as ee,aH as pe,q as M,p as Le,aI as Ye,aJ as Ze,G as Y,T as se,J as oe,d as D,ak as me,u as T,o as k,g as G,j as I,m as F,X as W,aK as te,a5 as e,e as S,a9 as X,n as y,a1 as R,F as Fe,v as le,x as j,f as E,an as ye,_ as N,$ as O,C as ge,aL as Be,ap as ne,aq as re,ah as z,aM as Ie,w as A,ax as et,I as tt,D as at,ar as w,aN as st,aO as Pe,Q as ot,c as Ge,aP as Ue,z as lt,E as q,aa as he,aQ as nt,aR as fe,N as B,t as rt,Y as Te,k as V,aS as it,aT as ut,aU as dt,aV as ct,aW as ve,aX as pt,aY as ft,a7 as vt,ao as bt,aC as $e,aB as Ce}from"./index.01ea1bf3.js";import{h as ie,a as _e,k as ke,U as K,b as ae,C as mt,j as De,u as yt}from"./user.92dc6fd2.js";const Ne=Symbol("radioGroupKey"),Ve=Symbol("uploadContextKey"),gt={modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:ie,id:{type:String,default:void 0},label:{type:String,default:void 0},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}},ze={modelValue:{type:[Number,String,Boolean],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:ie,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},J=()=>{const{form:t,formItem:n}=_e(),o=be("CheckboxGroup",{}),s=$(()=>o&&(o==null?void 0:o.name)==="ElCheckboxGroup"),d=$(()=>n==null?void 0:n.size);return{isGroup:s,checkboxGroup:o,elForm:t,elFormItemSize:d,elFormItem:n}},ht=(t,{elFormItem:n})=>{const{inputId:o,isLabeledByFormItem:s}=ke(t,{formItemContext:n});return{isLabeledByFormItem:s,groupId:o}},kt=t=>{const n=M(!1),{emit:o}=Le(),{isGroup:s,checkboxGroup:d,elFormItem:f}=J(),p=M(!1);return{model:$({get(){var i,c;return s.value?(i=d.modelValue)==null?void 0:i.value:(c=t.modelValue)!=null?c:n.value},set(i){var c;s.value&&Array.isArray(i)?(p.value=d.max!==void 0&&i.length>d.max.value,p.value===!1&&((c=d==null?void 0:d.changeEvent)==null||c.call(d,i))):(o(K,i),n.value=i)}}),isGroup:s,isLimitExceeded:p,elFormItem:f}},$t=(t,n,{model:o})=>{const{isGroup:s,checkboxGroup:d}=J(),f=M(!1),p=ae(d==null?void 0:d.checkboxGroupSize,{prop:!0}),g=$(()=>{const r=o.value;return Ye(r)==="[object Boolean]"?r:Array.isArray(r)?r.map(Ze).includes(t.label):r!=null?r===t.trueLabel:!!r}),i=ae($(()=>{var r;return s.value?(r=d==null?void 0:d.checkboxGroupSize)==null?void 0:r.value:void 0})),c=$(()=>!!(n.default||t.label));return{isChecked:g,focus:f,size:p,checkboxSize:i,hasOwnLabel:c}},Ct=(t,{model:n,isChecked:o})=>{const{elForm:s,isGroup:d,checkboxGroup:f}=J(),p=$(()=>{var i,c;const r=(i=f.max)==null?void 0:i.value,v=(c=f.min)==null?void 0:c.value;return!!(r||v)&&n.value.length>=r&&!o.value||n.value.length<=v&&o.value});return{isDisabled:$(()=>{var i,c;const r=t.disabled||(s==null?void 0:s.disabled);return(c=d.value?((i=f.disabled)==null?void 0:i.value)||r||p.value:r)!=null?c:!1}),isLimitDisabled:p}},St=(t,{model:n})=>{function o(){Array.isArray(n.value)&&!n.value.includes(t.label)?n.value.push(t.label):n.value=t.trueLabel||!0}t.checked&&o()},Et=(t,{model:n,isLimitExceeded:o,hasOwnLabel:s,isDisabled:d,isLabeledByFormItem:f})=>{const{elFormItem:p,checkboxGroup:g}=J(),{emit:i}=Le();function c(l){var b,h;return l===t.trueLabel||l===!0?(b=t.trueLabel)!=null?b:!0:(h=t.falseLabel)!=null?h:!1}function r(l,b){i("change",c(l),b)}function v(l){if(o.value)return;const b=l.target;i("change",c(b.checked),l)}async function u(l){o.value||!s.value&&!d.value&&f.value&&(n.value=c([!1,t.falseLabel].includes(n.value)),await oe(),r(n.value,l))}const a=$(()=>{var l;return((l=g.validateEvent)==null?void 0:l.value)||t.validateEvent});return Y(()=>t.modelValue,()=>{a.value&&(p==null||p.validate("change").catch(l=>se()))}),{handleChange:v,onClickRoot:u}},Oe={[K]:t=>H(t)||Z(t)||ee(t),change:t=>H(t)||Z(t)||ee(t)},wt={[K]:t=>pe(t),change:t=>pe(t)},xe=(t,n)=>{const{model:o,isGroup:s,isLimitExceeded:d,elFormItem:f}=kt(t),{focus:p,size:g,isChecked:i,checkboxSize:c,hasOwnLabel:r}=$t(t,n,{model:o}),{isDisabled:v}=Ct(t,{model:o,isChecked:i}),{inputId:u,isLabeledByFormItem:a}=ke(t,{formItemContext:f,disableIdGeneration:r,disableIdManagement:s}),{handleChange:l,onClickRoot:b}=Et(t,{model:o,isLimitExceeded:d,hasOwnLabel:r,isDisabled:v,isLabeledByFormItem:a});return St(t,{model:o}),{elFormItem:f,inputId:u,isLabeledByFormItem:a,isChecked:i,isDisabled:v,isGroup:s,checkboxSize:c,hasOwnLabel:r,model:o,handleChange:l,onClickRoot:b,focus:p,size:g}},Rt=["tabindex","role","aria-checked"],Lt=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],Ft=["id","aria-hidden","disabled","value","name","tabindex"],Bt={name:"ElCheckbox"},It=D({...Bt,props:ze,emits:Oe,setup(t){const n=t,o=me(),{inputId:s,isLabeledByFormItem:d,isChecked:f,isDisabled:p,checkboxSize:g,hasOwnLabel:i,model:c,handleChange:r,onClickRoot:v,focus:u}=xe(n,o),a=T("checkbox");return(l,b)=>(k(),G(ye(!e(i)&&e(d)?"span":"label"),{class:y([e(a).b(),e(a).m(e(g)),e(a).is("disabled",e(p)),e(a).is("bordered",l.border),e(a).is("checked",e(f))]),"aria-controls":l.indeterminate?l.controls:null,onClick:e(v)},{default:I(()=>[F("span",{class:y([e(a).e("input"),e(a).is("disabled",e(p)),e(a).is("checked",e(f)),e(a).is("indeterminate",l.indeterminate),e(a).is("focus",e(u))]),tabindex:l.indeterminate?0:void 0,role:l.indeterminate?"checkbox":void 0,"aria-checked":l.indeterminate?"mixed":void 0},[l.trueLabel||l.falseLabel?W((k(),S("input",{key:0,id:e(s),"onUpdate:modelValue":b[0]||(b[0]=h=>X(c)?c.value=h:null),class:y(e(a).e("original")),type:"checkbox","aria-hidden":l.indeterminate?"true":"false",name:l.name,tabindex:l.tabindex,disabled:e(p),"true-value":l.trueLabel,"false-value":l.falseLabel,onChange:b[1]||(b[1]=(...h)=>e(r)&&e(r)(...h)),onFocus:b[2]||(b[2]=h=>u.value=!0),onBlur:b[3]||(b[3]=h=>u.value=!1)},null,42,Lt)),[[te,e(c)]]):W((k(),S("input",{key:1,id:e(s),"onUpdate:modelValue":b[4]||(b[4]=h=>X(c)?c.value=h:null),class:y(e(a).e("original")),type:"checkbox","aria-hidden":l.indeterminate?"true":"false",disabled:e(p),value:l.label,name:l.name,tabindex:l.tabindex,onChange:b[5]||(b[5]=(...h)=>e(r)&&e(r)(...h)),onFocus:b[6]||(b[6]=h=>u.value=!0),onBlur:b[7]||(b[7]=h=>u.value=!1)},null,42,Ft)),[[te,e(c)]]),F("span",{class:y(e(a).e("inner"))},null,2)],10,Rt),e(i)?(k(),S("span",{key:0,class:y(e(a).e("label"))},[R(l.$slots,"default"),l.$slots.default?E("v-if",!0):(k(),S(Fe,{key:0},[le(j(l.label),1)],64))],2)):E("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var Pt=N(It,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Gt=["name","tabindex","disabled","true-value","false-value"],Ut=["name","tabindex","disabled","value"],Tt={name:"ElCheckboxButton"},_t=D({...Tt,props:ze,emits:Oe,setup(t){const n=t,o=me(),{focus:s,isChecked:d,isDisabled:f,size:p,model:g,handleChange:i}=xe(n,o),{checkboxGroup:c}=J(),r=T("checkbox"),v=$(()=>{var u,a,l,b;const h=(a=(u=c==null?void 0:c.fill)==null?void 0:u.value)!=null?a:"";return{backgroundColor:h,borderColor:h,color:(b=(l=c==null?void 0:c.textColor)==null?void 0:l.value)!=null?b:"",boxShadow:h?`-1px 0 0 0 ${h}`:void 0}});return(u,a)=>(k(),S("label",{class:y([e(r).b("button"),e(r).bm("button",e(p)),e(r).is("disabled",e(f)),e(r).is("checked",e(d)),e(r).is("focus",e(s))])},[u.trueLabel||u.falseLabel?W((k(),S("input",{key:0,"onUpdate:modelValue":a[0]||(a[0]=l=>X(g)?g.value=l:null),class:y(e(r).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:e(f),"true-value":u.trueLabel,"false-value":u.falseLabel,onChange:a[1]||(a[1]=(...l)=>e(i)&&e(i)(...l)),onFocus:a[2]||(a[2]=l=>s.value=!0),onBlur:a[3]||(a[3]=l=>s.value=!1)},null,42,Gt)),[[te,e(g)]]):W((k(),S("input",{key:1,"onUpdate:modelValue":a[4]||(a[4]=l=>X(g)?g.value=l:null),class:y(e(r).be("button","original")),type:"checkbox",name:u.name,tabindex:u.tabindex,disabled:e(f),value:u.label,onChange:a[5]||(a[5]=(...l)=>e(i)&&e(i)(...l)),onFocus:a[6]||(a[6]=l=>s.value=!0),onBlur:a[7]||(a[7]=l=>s.value=!1)},null,42,Ut)),[[te,e(g)]]),u.$slots.default||u.label?(k(),S("span",{key:2,class:y(e(r).be("button","inner")),style:O(e(d)?e(v):void 0)},[R(u.$slots,"default",{},()=>[le(j(u.label),1)])],6)):E("v-if",!0)],2))}});var Ae=N(_t,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Dt={name:"ElCheckboxGroup"},Nt=D({...Dt,props:gt,emits:wt,setup(t,{emit:n}){const o=t,{elFormItem:s}=J(),{groupId:d,isLabeledByFormItem:f}=ht(o,{elFormItem:s}),p=ae(),g=T("checkbox"),i=r=>{n(K,r),oe(()=>{n("change",r)})},c=$({get(){return o.modelValue},set(r){i(r)}});return ge("CheckboxGroup",{name:"ElCheckboxGroup",...Be(o),modelValue:c,checkboxGroupSize:p,changeEvent:i}),Y(()=>o.modelValue,()=>{o.validateEvent&&(s==null||s.validate("change").catch(r=>se()))}),(r,v)=>{var u;return k(),G(ye(r.tag),{id:e(d),class:y(e(g).b("group")),role:"group","aria-label":e(f)?void 0:r.label||"checkbox-group","aria-labelledby":e(f)?(u=e(s))==null?void 0:u.labelId:void 0},{default:I(()=>[R(r.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Me=N(Nt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const xa=ne(Pt,{CheckboxButton:Ae,CheckboxGroup:Me});re(Ae);const Aa=re(Me),je=z({size:ie,disabled:Boolean,label:{type:[String,Number,Boolean],default:""}}),Vt=z({...je,modelValue:{type:[String,Number,Boolean],default:""},name:{type:String,default:""},border:Boolean}),qe={[K]:t=>H(t)||Z(t)||ee(t),[mt]:t=>H(t)||Z(t)||ee(t)},Ke=(t,n)=>{const o=M(),s=be(Ne,void 0),d=$(()=>!!s),f=$({get(){return d.value?s.modelValue:t.modelValue},set(r){d.value?s.changeEvent(r):n&&n(K,r),o.value.checked=t.modelValue===t.label}}),p=ae($(()=>s==null?void 0:s.size)),g=De($(()=>s==null?void 0:s.disabled)),i=M(!1),c=$(()=>g.value||d.value&&f.value!==t.label?-1:0);return{radioRef:o,isGroup:d,radioGroup:s,focus:i,size:p,disabled:g,tabIndex:c,modelValue:f}},zt=["value","name","disabled"],Ot={name:"ElRadio"},xt=D({...Ot,props:Vt,emits:qe,setup(t,{emit:n}){const o=t,s=T("radio"),{radioRef:d,radioGroup:f,focus:p,size:g,disabled:i,modelValue:c}=Ke(o,n);function r(){oe(()=>n("change",c.value))}return(v,u)=>{var a;return k(),S("label",{class:y([e(s).b(),e(s).is("disabled",e(i)),e(s).is("focus",e(p)),e(s).is("bordered",v.border),e(s).is("checked",e(c)===v.label),e(s).m(e(g))])},[F("span",{class:y([e(s).e("input"),e(s).is("disabled",e(i)),e(s).is("checked",e(c)===v.label)])},[W(F("input",{ref_key:"radioRef",ref:d,"onUpdate:modelValue":u[0]||(u[0]=l=>X(c)?c.value=l:null),class:y(e(s).e("original")),value:v.label,name:v.name||((a=e(f))==null?void 0:a.name),disabled:e(i),type:"radio",onFocus:u[1]||(u[1]=l=>p.value=!0),onBlur:u[2]||(u[2]=l=>p.value=!1),onChange:r},null,42,zt),[[Ie,e(c)]]),F("span",{class:y(e(s).e("inner"))},null,2)],2),F("span",{class:y(e(s).e("label")),onKeydown:u[3]||(u[3]=A(()=>{},["stop"]))},[R(v.$slots,"default",{},()=>[le(j(v.label),1)])],34)],2)}}});var At=N(xt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio.vue"]]);const Mt=z({...je,name:{type:String,default:""}}),jt=["value","name","disabled"],qt={name:"ElRadioButton"},Kt=D({...qt,props:Mt,setup(t){const n=t,o=T("radio"),{radioRef:s,focus:d,size:f,disabled:p,modelValue:g,radioGroup:i}=Ke(n),c=$(()=>({backgroundColor:(i==null?void 0:i.fill)||"",borderColor:(i==null?void 0:i.fill)||"",boxShadow:i!=null&&i.fill?`-1px 0 0 0 ${i.fill}`:"",color:(i==null?void 0:i.textColor)||""}));return(r,v)=>{var u;return k(),S("label",{class:y([e(o).b("button"),e(o).is("active",e(g)===r.label),e(o).is("disabled",e(p)),e(o).is("focus",e(d)),e(o).bm("button",e(f))])},[W(F("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":v[0]||(v[0]=a=>X(g)?g.value=a:null),class:y(e(o).be("button","original-radio")),value:r.label,type:"radio",name:r.name||((u=e(i))==null?void 0:u.name),disabled:e(p),onFocus:v[1]||(v[1]=a=>d.value=!0),onBlur:v[2]||(v[2]=a=>d.value=!1)},null,42,jt),[[Ie,e(g)]]),F("span",{class:y(e(o).be("button","inner")),style:O(e(g)===r.label?e(c):{}),onKeydown:v[3]||(v[3]=A(()=>{},["stop"]))},[R(r.$slots,"default",{},()=>[le(j(r.label),1)])],38)],2)}}});var He=N(Kt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-button.vue"]]);const Ht=z({id:{type:String,default:void 0},size:ie,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:""},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),Wt=qe,Xt=["id","aria-label","aria-labelledby"],Jt={name:"ElRadioGroup"},Qt=D({...Jt,props:Ht,emits:Wt,setup(t,{emit:n}){const o=t,s=T("radio"),d=et(),f=M(),{formItem:p}=_e(),{inputId:g,isLabeledByFormItem:i}=ke(o,{formItemContext:p}),c=v=>{n(K,v),oe(()=>n("change",v))};tt(()=>{const v=f.value.querySelectorAll("[type=radio]"),u=v[0];!Array.from(v).some(a=>a.checked)&&u&&(u.tabIndex=0)});const r=$(()=>o.name||d.value);return ge(Ne,at({...Be(o),changeEvent:c,name:r})),Y(()=>o.modelValue,()=>{o.validateEvent&&(p==null||p.validate("change").catch(v=>se()))}),(v,u)=>(k(),S("div",{id:e(g),ref_key:"radioGroupRef",ref:f,class:y(e(s).b("group")),role:"radiogroup","aria-label":e(i)?void 0:v.label||"radio-group","aria-labelledby":e(i)?e(p).labelId:void 0},[R(v.$slots,"default")],10,Xt))}});var We=N(Qt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/radio/src/radio-group.vue"]]);const Ma=ne(At,{RadioButton:He,RadioGroup:We}),ja=re(We);re(He);const Yt=z({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:w(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:w([String,Array,Function]),default:""},format:{type:w(Function),default:t=>`${t}%`}}),Zt=["aria-valuenow"],ea={viewBox:"0 0 100 100"},ta=["d","stroke","stroke-width"],aa=["d","stroke","opacity","stroke-linecap","stroke-width"],sa={key:0},oa={name:"ElProgress"},la=D({...oa,props:Yt,setup(t){const n=t,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=T("progress"),d=$(()=>({width:`${n.percentage}%`,animationDuration:`${n.duration}s`,backgroundColor:L(n.percentage)})),f=$(()=>(n.strokeWidth/n.width*100).toFixed(1)),p=$(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat(f.value)/2}`,10):0),g=$(()=>{const m=p.value,P=n.type==="dashboard";return`
          M 50 50
          m 0 ${P?"":"-"}${m}
          a ${m} ${m} 0 1 1 0 ${P?"-":""}${m*2}
          a ${m} ${m} 0 1 1 0 ${P?"":"-"}${m*2}
          `}),i=$(()=>2*Math.PI*p.value),c=$(()=>n.type==="dashboard"?.75:1),r=$(()=>`${-1*i.value*(1-c.value)/2}px`),v=$(()=>({strokeDasharray:`${i.value*c.value}px, ${i.value}px`,strokeDashoffset:r.value})),u=$(()=>({strokeDasharray:`${i.value*c.value*(n.percentage/100)}px, ${i.value}px`,strokeDashoffset:r.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),a=$(()=>{let m;return n.color?m=L(n.percentage):m=o[n.status]||o.default,m}),l=$(()=>n.status==="warning"?st:n.type==="line"?n.status==="success"?Pe:ot:n.status==="success"?Ge:Ue),b=$(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),h=$(()=>n.format(n.percentage));function C(m){const P=100/m.length;return m.map((_,x)=>H(_)?{color:_,percentage:(x+1)*P}:_).sort((_,x)=>_.percentage-x.percentage)}const L=m=>{var P;const{color:U}=n;if(lt(U))return U(m);if(H(U))return U;{const _=C(U);for(const x of _)if(x.percentage>m)return x.color;return(P=_[_.length-1])==null?void 0:P.color}};return(m,P)=>(k(),S("div",{class:y([e(s).b(),e(s).m(m.type),e(s).is(m.status),{[e(s).m("without-text")]:!m.showText,[e(s).m("text-inside")]:m.textInside}]),role:"progressbar","aria-valuenow":m.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[m.type==="line"?(k(),S("div",{key:0,class:y(e(s).b("bar"))},[F("div",{class:y(e(s).be("bar","outer")),style:O({height:`${m.strokeWidth}px`})},[F("div",{class:y([e(s).be("bar","inner"),{[e(s).bem("bar","inner","indeterminate")]:m.indeterminate}]),style:O(e(d))},[(m.showText||m.$slots.default)&&m.textInside?(k(),S("div",{key:0,class:y(e(s).be("bar","innerText"))},[R(m.$slots,"default",{percentage:m.percentage},()=>[F("span",null,j(e(h)),1)])],2)):E("v-if",!0)],6)],6)],2)):(k(),S("div",{key:1,class:y(e(s).b("circle")),style:O({height:`${m.width}px`,width:`${m.width}px`})},[(k(),S("svg",ea,[F("path",{class:y(e(s).be("circle","track")),d:e(g),stroke:`var(${e(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":e(f),fill:"none",style:O(e(v))},null,14,ta),F("path",{class:y(e(s).be("circle","path")),d:e(g),stroke:e(a),fill:"none",opacity:m.percentage?1:0,"stroke-linecap":m.strokeLinecap,"stroke-width":e(f),style:O(e(u))},null,14,aa)]))],6)),(m.showText||m.$slots.default)&&!m.textInside?(k(),S("div",{key:2,class:y(e(s).e("text")),style:O({fontSize:`${e(b)}px`})},[R(m.$slots,"default",{percentage:m.percentage},()=>[m.status?(k(),G(e(q),{key:1},{default:I(()=>[(k(),G(ye(e(l))))]),_:1})):(k(),S("span",sa,j(e(h)),1))])],6)):E("v-if",!0)],10,Zt))}});var na=N(la,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const ra=ne(na),ia="ElUpload";class ua extends Error{constructor(n,o,s,d){super(n),this.name="UploadAjaxError",this.status=o,this.method=s,this.url=d}}function Se(t,n,o){let s;return o.response?s=`${o.response.error||o.response}`:o.responseText?s=`${o.responseText}`:s=`fail to ${n.method} ${t} ${o.status}`,new ua(s,o.status,n.method,t)}function da(t){const n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const ca=t=>{typeof XMLHttpRequest=="undefined"&&he(ia,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,o=t.action;n.upload&&n.upload.addEventListener("progress",f=>{const p=f;p.percent=f.total>0?f.loaded/f.total*100:0,t.onProgress(p)});const s=new FormData;if(t.data)for(const[f,p]of Object.entries(t.data))Array.isArray(p)?s.append(f,...p):s.append(f,p);s.append(t.filename,t.file,t.file.name),n.addEventListener("error",()=>{t.onError(Se(o,t,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return t.onError(Se(o,t,n));t.onSuccess(da(n))}),n.open(t.method,o,!0),t.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const d=t.headers||{};if(d instanceof Headers)d.forEach((f,p)=>n.setRequestHeader(p,f));else for(const[f,p]of Object.entries(d))nt(p)||n.setRequestHeader(f,String(p));return n.send(s),n},Xe=["text","picture","picture-card"];let pa=1;const Je=()=>Date.now()+pa++,Qe=z({action:{type:String,default:"#"},headers:{type:w(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>fe({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:w(Array),default:()=>fe([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Xe,default:"text"},httpRequest:{type:w(Function),default:ca},disabled:Boolean,limit:Number}),fa=z({...Qe,beforeUpload:{type:w(Function),default:B},beforeRemove:{type:w(Function)},onRemove:{type:w(Function),default:B},onChange:{type:w(Function),default:B},onPreview:{type:w(Function),default:B},onSuccess:{type:w(Function),default:B},onProgress:{type:w(Function),default:B},onError:{type:w(Function),default:B},onExceed:{type:w(Function),default:B}}),va=z({files:{type:w(Array),default:()=>fe([])},disabled:{type:Boolean,default:!1},handlePreview:{type:w(Function),default:B},listType:{type:String,values:Xe,default:"text"}}),ba={remove:t=>!!t},ma=["onKeydown"],ya=["src"],ga=["onClick"],ha=["onClick"],ka=["onClick"],$a={name:"ElUploadList"},Ca=D({...$a,props:va,emits:ba,setup(t,{emit:n}){const{t:o}=yt(),s=T("upload"),d=T("icon"),f=T("list"),p=M(!1),g=i=>{n("remove",i)};return(i,c)=>(k(),G(ct,{tag:"ul",class:y([e(s).b("list"),e(s).bm("list",i.listType),e(s).is("disabled",i.disabled)]),name:e(f).b()},{default:I(()=>[(k(!0),S(Fe,null,rt(i.files,r=>(k(),S("li",{key:r.uid||r.name,class:y([e(s).be("list","item"),e(s).is(r.status),{focusing:p.value}]),tabindex:"0",onKeydown:Te(v=>!i.disabled&&g(r),["delete"]),onFocus:c[0]||(c[0]=v=>p.value=!0),onBlur:c[1]||(c[1]=v=>p.value=!1),onClick:c[2]||(c[2]=v=>p.value=!1)},[R(i.$slots,"default",{file:r},()=>[i.listType==="picture"||r.status!=="uploading"&&i.listType==="picture-card"?(k(),S("img",{key:0,class:y(e(s).be("list","item-thumbnail")),src:r.url,alt:""},null,10,ya)):E("v-if",!0),r.status==="uploading"||i.listType!=="picture-card"?(k(),S("div",{key:1,class:y(e(s).be("list","item-info"))},[F("a",{class:y(e(s).be("list","item-name")),onClick:A(v=>i.handlePreview(r),["prevent"])},[V(e(q),{class:y(e(d).m("document"))},{default:I(()=>[V(e(it))]),_:1},8,["class"]),F("span",{class:y(e(s).be("list","item-file-name"))},j(r.name),3)],10,ga),r.status==="uploading"?(k(),G(e(ra),{key:0,type:i.listType==="picture-card"?"circle":"line","stroke-width":i.listType==="picture-card"?6:2,percentage:Number(r.percentage),style:O(i.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):E("v-if",!0)],2)):E("v-if",!0),F("label",{class:y(e(s).be("list","item-status-label"))},[i.listType==="text"?(k(),G(e(q),{key:0,class:y([e(d).m("upload-success"),e(d).m("circle-check")])},{default:I(()=>[V(e(Pe))]),_:1},8,["class"])):["picture-card","picture"].includes(i.listType)?(k(),G(e(q),{key:1,class:y([e(d).m("upload-success"),e(d).m("check")])},{default:I(()=>[V(e(Ge))]),_:1},8,["class"])):E("v-if",!0)],2),i.disabled?E("v-if",!0):(k(),G(e(q),{key:2,class:y(e(d).m("close")),onClick:v=>g(r)},{default:I(()=>[V(e(Ue))]),_:2},1032,["class","onClick"])),E(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),E(" This is a bug which needs to be fixed "),E(" TODO: Fix the incorrect navigation interaction "),i.disabled?E("v-if",!0):(k(),S("i",{key:3,class:y(e(d).m("close-tip"))},j(e(o)("el.upload.deleteTip")),3)),i.listType==="picture-card"?(k(),S("span",{key:4,class:y(e(s).be("list","item-actions"))},[F("span",{class:y(e(s).be("list","item-preview")),onClick:v=>i.handlePreview(r)},[V(e(q),{class:y(e(d).m("zoom-in"))},{default:I(()=>[V(e(ut))]),_:1},8,["class"])],10,ha),i.disabled?E("v-if",!0):(k(),S("span",{key:0,class:y(e(s).be("list","item-delete")),onClick:v=>g(r)},[V(e(q),{class:y(e(d).m("delete"))},{default:I(()=>[V(e(dt))]),_:1},8,["class"])],10,ka))],2)):E("v-if",!0)])],42,ma))),128)),R(i.$slots,"append")]),_:3},8,["class","name"]))}});var Ee=N(Ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Sa=z({disabled:{type:Boolean,default:!1}}),Ea={file:t=>pe(t)},wa=["onDrop","onDragover"],Ra={name:"ElUploadDrag"},La=D({...Ra,props:Sa,emits:Ea,setup(t,{emit:n}){const o=t,s="ElUploadDrag",d=be(Ve);d||he(s,"usage: <el-upload><el-upload-dragger /></el-upload>");const f=T("upload"),p=M(!1),g=c=>{if(o.disabled)return;p.value=!1;const r=Array.from(c.dataTransfer.files),v=d.accept.value;if(!v){n("file",r);return}const u=r.filter(a=>{const{type:l,name:b}=a,h=b.includes(".")?`.${b.split(".").pop()}`:"",C=l.replace(/\/.*$/,"");return v.split(",").map(L=>L.trim()).filter(L=>L).some(L=>L.startsWith(".")?h===L:/\/\*$/.test(L)?C===L.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(L)?l===L:!1)});n("file",u)},i=()=>{o.disabled||(p.value=!0)};return(c,r)=>(k(),S("div",{class:y([e(f).b("dragger"),e(f).is("dragover",p.value)]),onDrop:A(g,["prevent"]),onDragover:A(i,["prevent"]),onDragleave:r[0]||(r[0]=A(v=>p.value=!1,["prevent"]))},[R(c.$slots,"default")],42,wa))}});var Fa=N(La,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Ba=z({...Qe,beforeUpload:{type:w(Function),default:B},onRemove:{type:w(Function),default:B},onStart:{type:w(Function),default:B},onSuccess:{type:w(Function),default:B},onProgress:{type:w(Function),default:B},onError:{type:w(Function),default:B},onExceed:{type:w(Function),default:B}}),Ia=["onKeydown"],Pa=["name","multiple","accept"],Ga={name:"ElUploadContent",inheritAttrs:!1},Ua=D({...Ga,props:Ba,setup(t,{expose:n}){const o=t,s=T("upload"),d=ve({}),f=ve(),p=a=>{if(a.length===0)return;const{autoUpload:l,limit:b,fileList:h,multiple:C,onStart:L,onExceed:m}=o;if(b&&h.length+a.length>b){m(a,h);return}C||(a=a.slice(0,1));for(const P of a){const U=P;U.uid=Je(),L(U),l&&g(U)}},g=async a=>{if(f.value.value="",!o.beforeUpload)return i(a);let l;try{l=await o.beforeUpload(a)}catch{l=!1}if(l===!1){o.onRemove(a);return}let b=a;l instanceof Blob&&(l instanceof File?b=l:b=new File([l],a.name,{type:a.type})),i(Object.assign(b,{uid:a.uid}))},i=a=>{const{headers:l,data:b,method:h,withCredentials:C,name:L,action:m,onProgress:P,onSuccess:U,onError:_,httpRequest:x}=o,{uid:ue}=a,de={headers:l||{},withCredentials:C,file:a,data:b,method:h,filename:L,action:m,onProgress:Q=>{P(Q,a)},onSuccess:Q=>{U(Q,a),delete d.value[ue]},onError:Q=>{_(Q,a),delete d.value[ue]}},ce=x(de);d.value[ue]=ce,ce instanceof Promise&&ce.then(de.onSuccess,de.onError)},c=a=>{const l=a.target.files;!l||p(Array.from(l))},r=()=>{o.disabled||(f.value.value="",f.value.click())},v=()=>{r()};return n({abort:a=>{pt(d.value).filter(a?([b])=>String(a.uid)===b:()=>!0).forEach(([b,h])=>{h instanceof XMLHttpRequest&&h.abort(),delete d.value[b]})},upload:g}),(a,l)=>(k(),S("div",{class:y([e(s).b(),e(s).m(a.listType),e(s).is("drag",a.drag)]),tabindex:"0",onClick:r,onKeydown:Te(A(v,["self"]),["enter","space"])},[a.drag?(k(),G(Fa,{key:0,disabled:a.disabled,onFile:p},{default:I(()=>[R(a.$slots,"default")]),_:3},8,["disabled"])):R(a.$slots,"default",{key:1}),F("input",{ref_key:"inputRef",ref:f,class:y(e(s).e("input")),name:a.name,multiple:a.multiple,accept:a.accept,type:"file",onChange:c,onClick:l[0]||(l[0]=A(()=>{},["stop"]))},null,42,Pa)],42,Ia))}});var we=N(Ua,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const Re="ElUpload",Ta=t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)},_a=(t,n)=>{const o=ft(t,"fileList",void 0,{passive:!0}),s=u=>o.value.find(a=>a.uid===u.uid);function d(u){var a;(a=n.value)==null||a.abort(u)}function f(u=["ready","uploading","success","fail"]){o.value=o.value.filter(a=>!u.includes(a.status))}const p=(u,a)=>{const l=s(a);!l||(console.error(u),l.status="fail",o.value.splice(o.value.indexOf(l),1),t.onError(u,l,o.value),t.onChange(l,o.value))},g=(u,a)=>{const l=s(a);!l||(t.onProgress(u,l,o.value),l.status="uploading",l.percentage=Math.round(u.percent))},i=(u,a)=>{const l=s(a);!l||(l.status="success",l.response=u,t.onSuccess(u,l,o.value),t.onChange(l,o.value))},c=u=>{const a={name:u.name,percentage:0,status:"ready",size:u.size,raw:u,uid:u.uid};if(t.listType==="picture-card"||t.listType==="picture")try{a.url=URL.createObjectURL(u)}catch(l){se(Re,l.message),t.onError(l,a,o.value)}o.value=[...o.value,a],t.onChange(a,o.value)},r=async u=>{const a=u instanceof File?s(u):u;a||he(Re,"file to be removed not found");const l=b=>{d(b);const h=o.value;h.splice(h.indexOf(b),1),t.onRemove(b,h),Ta(b)};t.beforeRemove?await t.beforeRemove(a,o.value)!==!1&&l(a):l(a)};function v(){o.value.filter(({status:u})=>u==="ready").forEach(({raw:u})=>{var a;return u&&((a=n.value)==null?void 0:a.upload(u))})}return Y(()=>t.listType,u=>{u!=="picture-card"&&u!=="picture"||(o.value=o.value.map(a=>{const{raw:l,url:b}=a;if(!b&&l)try{a.url=URL.createObjectURL(l)}catch(h){t.onError(h,a,o.value)}return a}))}),Y(o,u=>{for(const a of u)a.uid||(a.uid=Je()),a.status||(a.status="success")},{immediate:!0,deep:!0}),{uploadFiles:o,abort:d,clearFiles:f,handleError:p,handleProgress:g,handleStart:c,handleSuccess:i,handleRemove:r,submit:v}},Da={name:"ElUpload"},Na=D({...Da,props:fa,setup(t,{expose:n}){const o=t,s=me(),d=De(),f=ve(),{abort:p,submit:g,clearFiles:i,uploadFiles:c,handleStart:r,handleError:v,handleRemove:u,handleSuccess:a,handleProgress:l}=_a(o,f),b=$(()=>o.listType==="picture-card"),h=$(()=>({...o,fileList:c.value,onStart:r,onProgress:l,onSuccess:a,onError:v,onRemove:u}));return vt(()=>{c.value.forEach(({url:C})=>{C!=null&&C.startsWith("blob:")&&URL.revokeObjectURL(C)})}),ge(Ve,{accept:bt(o,"accept")}),n({abort:p,submit:g,clearFiles:i,handleStart:r,handleRemove:u}),(C,L)=>(k(),S("div",null,[e(b)&&C.showFileList?(k(),G(Ee,{key:0,disabled:e(d),"list-type":C.listType,files:e(c),"handle-preview":C.onPreview,onRemove:e(u)},$e({append:I(()=>[V(we,Ce({ref_key:"uploadRef",ref:f},e(h)),{default:I(()=>[e(s).trigger?R(C.$slots,"trigger",{key:0}):E("v-if",!0),!e(s).trigger&&e(s).default?R(C.$slots,"default",{key:1}):E("v-if",!0)]),_:3},16)]),_:2},[C.$slots.file?{name:"default",fn:I(({file:m})=>[R(C.$slots,"file",{file:m})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):E("v-if",!0),!e(b)||e(b)&&!C.showFileList?(k(),G(we,Ce({key:1,ref_key:"uploadRef",ref:f},e(h)),{default:I(()=>[e(s).trigger?R(C.$slots,"trigger",{key:0}):E("v-if",!0),!e(s).trigger&&e(s).default?R(C.$slots,"default",{key:1}):E("v-if",!0)]),_:3},16)):E("v-if",!0),C.$slots.trigger?R(C.$slots,"default",{key:2}):E("v-if",!0),R(C.$slots,"tip"),!e(b)&&C.showFileList?(k(),G(Ee,{key:3,disabled:e(d),"list-type":C.listType,files:e(c),"handle-preview":C.onPreview,onRemove:e(u)},$e({_:2},[C.$slots.file?{name:"default",fn:I(({file:m})=>[R(C.$slots,"file",{file:m})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):E("v-if",!0)]))}});var Va=N(Na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const qa=ne(Va);export{xa as E,Ma as a,ja as b,qa as c,Aa as d};
